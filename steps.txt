ğŸ“‹ PLÃN POSTUPU SEMESTRÃLNÃ PRÃCE

  FÃZE 1: PÅ˜ÃPRAVA PROSTÅ˜EDÃ A STRUKTUR (1-2 dny)

  Krok 1.1 - Instalace zÃ¡vislostÃ­
  - Nainstalovat Composer (pokud nemÃ¡te)
  - PÅ™idat Twig pÅ™es Composer: composer require "twig/twig:^3.0"
  - PÅ™idat dalÅ¡Ã­ utility (napÅ™. pro upload souborÅ¯, validaci)

  Krok 1.2 - NÃ¡vrh databÃ¡ze
  Budete potÅ™ebovat tabulky:
  - users (id, username, email, password, role, approved, created_at)
  - products (id, supplier_id, name, description, price, image, created_at)
  - orders (id, customer_id, status, total_price, created_at)
  - order_items (id, order_id, product_id, quantity, price)

  Krok 1.3 - VylepÅ¡enÃ­ MVC struktury
  app/
  â”œâ”€â”€ Controllers/     (HomeController, ProductController, CartController,
  OrderController, AdminController)
  â”œâ”€â”€ Models/          (User.php, Product.php, Order.php, Database.php)
  â”œâ”€â”€ Views/templates/ (Twig Å¡ablony)
  â”œâ”€â”€ Middleware/      (AuthMiddleware.php pro kontrolu pÅ™ihlÃ¡Å¡enÃ­)
  â””â”€â”€ Helpers/         (pomocnÃ© funkce - validace, upload)
  public/
  â”œâ”€â”€ index.php        (hlavnÃ­ router)
  â”œâ”€â”€ css/            (vlastnÃ­ styly + Bootstrap)
  â”œâ”€â”€ js/             (AJAX skripty)
  â””â”€â”€ uploads/        (nahranÃ© obrÃ¡zky produktÅ¯)

  ---
  FÃZE 2: ZÃKLADNÃ FUNKCE (3-4 dny)

  Krok 2.1 - Autentizace a autorizace
  - âœ… UÅ¾ mÃ¡te LoginController a RegisterController
  - VylepÅ¡it: hashovÃ¡nÃ­ hesel (bcrypt), validace
  - PÅ™idat role: 'guest', 'customer', 'supplier', 'admin'
  - Middleware pro ochranu strÃ¡nek

  Krok 2.2 - Homepage a seznam produktÅ¯ (pro nepÅ™ihlÃ¡Å¡enÃ©)
  - ProductController->index() - zobrazÃ­ vÅ¡echny produkty
  - View s kartami produktÅ¯ (Bootstrap cards)
  - Twig Å¡ablona s layoutem (header, footer, navigace)

  Krok 2.3 - Registrace s rolÃ­
  - Upravit registraci - moÅ¾nost vybrat "Jsem zÃ¡kaznÃ­k" / "Jsem dodavatel"
  - DodavatelÃ© majÃ­ approved = 0 (ÄekajÃ­ na schvÃ¡lenÃ­ adminem)

  ---
  FÃZE 3: FUNKCE PRO KONZUMENTY (2-3 dny)

  Krok 3.1 - KoÅ¡Ã­k (s AJAXem)
  - CartController - pÅ™idÃ¡nÃ­/odebrÃ¡nÃ­ poloÅ¾ek
  - Session nebo databÃ¡zovÃ¡ tabulka cart
  - AJAX: klik na "PÅ™idat do koÅ¡Ã­ku" â†’ bez reload aktualizuje poÄet v koÅ¡Ã­ku

  Krok 3.2 - ObjednÃ¡vka
  - OrderController->checkout() - vytvoÅ™Ã­ objednÃ¡vku z koÅ¡Ã­ku
  - UloÅ¾Ã­ do orders a order_items
  - VyprÃ¡zdnÃ­ koÅ¡Ã­k

  Krok 3.3 - Historie objednÃ¡vek
  - OrderController->myOrders() - zobrazÃ­ objednÃ¡vky danÃ©ho uÅ¾ivatele
  - Detail objednÃ¡vky (produkty, datum, stav)

  ---
  FÃZE 4: FUNKCE PRO DODAVATELE (2 dny)

  Krok 4.1 - SprÃ¡va produktÅ¯
  - ProductController->create() - formulÃ¡Å™ s uploadem obrÃ¡zku
  - ProductController->store() - uloÅ¾enÃ­ do DB (bezpeÄnÃ½ upload)
  - ProductController->edit(), update(), delete()

  Krok 4.2 - Statistiky
  - Zobrazit kolikrÃ¡t byl produkt objednÃ¡n (JOIN s order_items)

  Krok 4.3 - NevyÅ™Ã­zenÃ© objednÃ¡vky
  - OrderController->supplierOrders() - zobrazÃ­ objednÃ¡vky obsahujÃ­cÃ­ produkty       
  dodavatele
  - OznaÄenÃ­ za vyÅ™Ã­zenÃ© (zmÄ›na statusu)

  ---
  FÃZE 5: FUNKCE PRO ADMINISTRÃTORA (1-2 dny)

  Krok 5.1 - SprÃ¡va uÅ¾ivatelÅ¯
  - AdminController->users() - seznam vÅ¡ech uÅ¾ivatelÅ¯
  - MoÅ¾nost zmÄ›nit roli, blokovat, smazat

  Krok 5.2 - SchvalovÃ¡nÃ­ dodavatelÅ¯
  - Seznam ÄekajÃ­cÃ­ch dodavatelÅ¯ (approved = 0)
  - TlaÄÃ­tko "SchvÃ¡lit" â†’ zmÄ›nÃ­ approved = 1

  Krok 5.3 - SprÃ¡va vÅ¡eho ostatnÃ­ho
  - MoÅ¾nost editovat/smazat jakÃ½koliv produkt
  - PÅ™ehled vÅ¡ech objednÃ¡vek

  ---
  FÃZE 6: AJAX A VYLEPÅ ENÃ UX (1-2 dny)

  Krok 6.1 - AJAX funkce
  - PÅ™idÃ¡nÃ­ do koÅ¡Ã­ku bez reload
  - FiltrovÃ¡nÃ­ produktÅ¯ (podle kategorie, ceny, dodavatele)
  - Live search

  Krok 6.2 - ResponzivnÃ­ design
  - Bootstrap grid systÃ©m
  - Testovat na mobilu (Chrome DevTools)

  ---
  FÃZE 7: BEZPEÄŒNOST (1 den)

  Krok 7.1 - Ochrana XSS
  - Twig automaticky escapuje, ale zkontrolovat
  - htmlspecialchars() pro ÄistÃ© PHP ÄÃ¡sti

  Krok 7.2 - Ochrana SQL Injection
  - PouÅ¾Ã­vat PDO prepared statements (uÅ¾ mÃ¡te)

  Krok 7.3 - Validace uploadÅ¯
  - Kontrola typu souboru (pouze jpg, png)
  - Kontrola velikosti
  - BezpeÄnÃ© pojmenovÃ¡nÃ­ souborÅ¯

  ---
  FÃZE 8: FINALIZACE (1-2 dny)

  Krok 8.1 - TestovÃ¡nÃ­
  - Otestovat vÅ¡echny role
  - Vyplnit databÃ¡zi ukÃ¡zkovÃ½mi daty
  - Zkusit edge cases (Å¡patnÃ¡ data, prÃ¡zdnÃ© formulÃ¡Å™e)

  Krok 8.2 - Dokumentace
  - PDF dokumentace (3-4 strany dle poÅ¾adavkÅ¯)
  - Export databÃ¡ze (SQL soubor)

  Krok 8.3 - Git a upload
  - Commit do Githubu (bonus body)
  - Upload na students.kiv.zcu.cz

  ---
  ğŸ¯ JAK ZAÄŒÃT PRÃVÄš TEÄ?

  DoporuÄuji zaÄÃ­t v tomto poÅ™adÃ­:

  1. NejdÅ™Ã­v nainstalujte Composer a Twig (mÅ¯Å¾u vÃ¡m s tÃ­m pomoct)
  2. NavrhnÄ›te databÃ¡zovou strukturu - vytvoÅ™te SQL soubor s CREATE TABLE pÅ™Ã­kazy    
  3. Implementujte Twig do souÄasnÃ© struktury - nahraÄte ÄistÃ© PHP views
  4. PokraÄujte podle fÃ¡zÃ­ vÃ½Å¡e

  ---
  ğŸ’¡ JAK BUDU POMÃHAT?

  Budete pracovat samostatnÄ›, ale kdykoliv se zeptejte, pokud:
  - NevÃ­te jak nÄ›co naprogramovat konkrÃ©tnÄ› (napÅ™. "Jak udÄ›lat AJAX pÅ™idÃ¡nÃ­ do       
  koÅ¡Ã­ku?")
  - NarazÃ­te na chybu
  - PotÅ™ebujete review kÃ³du
  - Chcete radu ohlednÄ› architektury

  Chcete teÄ zaÄÃ­t instalacÃ­ Twigu a nÃ¡vrhem databÃ¡ze, nebo mÃ¡te jinÃ© otÃ¡zky? ğŸš€   